(this["webpackJsonpreact-hooks-todo-app"]=this["webpackJsonpreact-hooks-todo-app"]||[]).push([[0],{22:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(16),o=c.n(a),r=(c(22),c(10)),d=(c(7),c(11)),l=c(2),s=c(0);var j=function(e){return Object(s.jsxs)("form",{onSubmit:e.addTodo,children:[Object(s.jsx)("input",{type:"text",placeholder:"Todo\u3092\u5165\u529b",defaultValue:e.inputText,onChange:e.updateInputText}),Object(s.jsx)("input",{type:"submit",value:"\u8ffd\u52a0"})]})};var u=function(e){var t="/detail/"+e.itemIndex,c="/edit/"+e.itemIndex;return Object(s.jsxs)("li",{children:[Object(s.jsxs)("label",{htmlFor:e.todo.createdAt,children:[Object(s.jsx)("input",{type:"checkbox",id:e.todo.createdAt,checked:e.todo.isDone,onChange:function(){return e.toggleCheck(e.todo.createdAt)}}),e.todo.title]}),Object(s.jsx)("button",{onClick:function(){return e.deleteTodo(e.todo.createdAt)},children:"\xd7"}),Object(s.jsx)("a",{href:c,children:Object(s.jsx)("button",{children:"\u7de8\u96c6"})}),Object(s.jsx)("a",{href:t,children:Object(s.jsx)("button",{children:"\u8a73\u7d30"})})]})},b="all",h="active",x="completed";var O=function(e){var t=e.todos.map((function(t,c){return e.filterState===b||e.filterState===h&&!1===t.isDone||e.filterState===x&&!0===t.isDone?Object(s.jsx)(u,{itemIndex:c,todo:t,toggleCheck:e.toggleCheck,deleteTodo:e.deleteTodo},t.createdAt):void 0}));return Object(s.jsx)("ul",{children:t})};var f=function(e){return Object(s.jsxs)("form",{id:"filterList",children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",className:"filter",value:"all",checked:e.filterState===b,onChange:e.changeFilterState}),"All"]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",className:"filter",value:"active",checked:e.filterState===h,onChange:e.changeFilterState}),"Active"]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",className:"filter",value:"completed",checked:e.filterState===x,onChange:e.changeFilterState}),"Completed"]})]})};var p=function(e){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)(f,{changeFilterState:e.changeFilterState,filterState:e.filterState})})};var g=function(e){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(j,{addTodo:e.addTodo,inputText:e.inputText,updateInputText:e.updateInputText}),Object(s.jsx)(O,{todos:e.todos,toggleCheck:e.toggleCheck,deleteTodo:e.deleteTodo,filterState:e.filterState}),Object(s.jsx)(p,{changeFilterState:e.changeFilterState,filterState:e.filterState})]})};var v=function(e){var t=Object(l.e)().id;return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("table",{border:"1",className:"todo-table",children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"\u9032\u6357"}),Object(s.jsxs)("td",{children:[" ",e.todos[t].isDone?"\u5b8c\u4e86":"\u672a\u5b8c\u4e86"]})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"\u30bf\u30b9\u30af\u540d"}),Object(s.jsxs)("td",{children:[" ",e.todos[t].title]})]})]}),Object(s.jsx)("a",{href:"/",children:Object(s.jsx)("button",{children:"\u623b\u308b"})})]})};var m=function(e){var t=Object(l.e)().id;return Object(n.useEffect)((function(){e.editingText||e.inputEditingText(e.todos[t].title)})),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("form",{onSubmit:e.updateTodo,id:t,children:[Object(s.jsx)("input",{type:"text",defaultValue:e.editingText,onChange:e.updateEditingText}),Object(s.jsx)("input",{type:"submit",value:"\u66f4\u65b0"})]}),Object(s.jsx)("a",{href:"/",children:Object(s.jsx)("button",{children:"\u623b\u308b"})})]})};var S=function(){return Object(s.jsx)("h1",{className:"container",children:"To Do List"})};var T=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("todos"))||[]),t=Object(r.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(""),j=Object(r.a)(o,2),u=j[0],h=j[1],x=Object(n.useState)(""),O=Object(r.a)(x,2),f=O[0],p=O[1],T=Object(n.useState)(b),k=Object(r.a)(T,2),C=k[0],D=k[1];return Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(c))})),Object(s.jsx)(d.a,{children:Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)(l.a,{path:"/",component:S}),Object(s.jsx)(l.a,{exact:!0,path:"/",children:Object(s.jsx)(g,{addTodo:function(e){if(e.preventDefault(),""!==u.trim()){var t=c.slice();t.push({createdAt:new Date,isDone:!1,title:u}),a(t),h("")}},inputText:u,updateInputText:function(e){h(e.target.value)},todos:c,toggleCheck:function(e){var t=c.map((function(e){return e.createdAt})).indexOf(e),n=c.slice(),i=n[t].isDone;n[t].isDone=!i,a(n)},deleteTodo:function(e){var t=c.slice().filter((function(t){return t.createdAt!==e}));a(t)},filterState:C,changeFilterState:function(e){D(e.target.value)}})}),Object(s.jsx)(l.a,{exact:!0,path:"/detail/:id",children:Object(s.jsx)(v,{todos:c})}),Object(s.jsx)(l.a,{exact:!0,path:"/edit/:id",children:Object(s.jsx)(m,{todos:c,updateTodo:function(e){e.preventDefault();var t=e.target.id;if(console.log(f),""!==f.trim()){var n=c.slice();n[t].title=f,console.log(n),a(n),p(""),window.location.pathname="/"}},editingText:f,updateEditingText:function(e){p(e.target.value)},inputEditingText:function(e){p(e)}})})]})})};o.a.render(Object(s.jsx)(T,{}),document.getElementById("root"))},7:function(e,t,c){}},[[32,1,2]]]);
//# sourceMappingURL=main.a35ca1ed.chunk.js.map